<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lunar Node</title>
</head>

<body>

    <style>
        * {
            margin: 0px;
            padding: 0px;
        }

        @font-face {
            font-family: 'Cabin Medium';
            src: url('infographics/fonts/Cabin-Medium.ttf') format('truetype');
        }

        @font-face {
            font-family: 'Cabin Regular';
            src: url('infographics/fonts/Cabin-Regular.ttf') format('truetype');
            font-weight: 400;
        }

        @font-face {
            font-family: 'Cabin Bold';
            src: url('infographics/fonts/Cabin-Bold.ttf') format('truetype');
        }

        @font-face {
            font-family: 'Dancing Script';
            src: url('infographics/fonts/DancingScript.ttf') format('truetype');
        }

        #lunar-calculator {
            --container-max-width: 980px;
            --divider-max-width: 980px;
            --primary-color: #fff;
            --secondary-color: #f4954e;
            --btn-text-color: #4c1c1c;
            --input-bg-color: rgba(240, 184, 121, 0.2);
            --input-border-color: #fff7;
        }

        #lunar-calculator {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-size: clamp(16px, calc(5vw + 0.5rem), 20px);
            text-align: center;
            background-size: cover !important;
            background-repeat: no-repeat !important;
            background-attachment: fixed !important;
            color: var(--primary-color);
            font-family: 'Cabin Regular';
            min-height: 100vh;
        }

        :where(#lunar-calculator *) {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .lunar-header {
            height: 4vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .lunar-main {
            width: min(90%, var(--container-max-width));
            margin: 0 auto;
        }

        .lunar-header img {
            height: min(50px, 10vh);
        }

        .lunar-main>#lunar-welcome-container,
        .lunar-main>#lunar-input-container,
        .lunar-main>#lunar-result-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: top;
            margin: 0 auto;
            margin-top: 1em;
        }

        /* Inputs */
        #lunar-horoscope-form {
            text-align: start;
            width: min(90%, calc(var(--container-max-width) * 0.8));
            margin-top: 2.8em;
        }

        #lunar-horoscope-form fieldset {
            display: flex;
            align-items: center;
            justify-content: start;
            gap: 1em;
            width: 100%;
            margin: 0.5em auto;
            border: none;
        }

        @media (max-width: 500px) {
            #lunar-horoscope-form fieldset {
                flex-direction: column;
                gap: 0.5em;
            }
        }

        #lunar-horoscope-form fieldset>label {
            font-size: 1.07em;
            white-space: nowrap;
            width: 98px;
            display: inline-block;
            font-family: 'Cabin Bold';
        }

        .lunar-inputs-container {
            display: flex;
            flex: 1 1 auto;
            width: 100%;
        }

        #lunar-welcome-container .h1 {
            font-family: 'Dancing Script';
            font-size: 4em;
            margin: 0 auto;
            padding: 0;
            color: #f4954e;
        }

        #lunar-welcome-container p {
            font-size: 0.9em;
            margin: 1.5em 1em auto;
            line-height: 28px;
        }

        #lunar-input-container .h1 {
            font-family: 'Dancing Script';
            font-size: 4em;
            margin: 0 auto;
            padding: 0;
            color: #f4954e;
        }

        #lunar-input-container p {
            font-size: 0.8em;
            margin: 0em 1em auto;
            line-height: 28px;
        }

        .lunar-inputs-container input,
        .lunar-inputs-container select {
            width: 100%;
            height: 2em;
            border: 1.9px solid #fff;
            border-radius: 5px;
            padding-left: 0.5em;
            background-color: #ffffff40;
            color: var(--primary-color);
            font-size: 1em;
            text-align: start;
            margin: 0 0.2em;
            cursor: pointer;
            transition: background-color 0.25s linear;
            font-family: 'Cabin Bold';
        }

        .lunar-inputs-container input:hover,
        .lunar-inputs-container select:hover,
        .lunar-inputs-container input:active,
        .lunar-inputs-container select:active {
            background-color: #fff2;
        }

        .lunar-inputs-container option {
            color: black;
            background-color: white;
            max-height: 300px;
        }

        #lunar-result-container .h1 {
            font-family: 'Dancing Script';
            font-size: 3.5em;
            margin: 0 auto;
            padding: 0;
            color: #f4954e;
        }

        #lunar-submit-button {
            text-align: center;
            font-size: 1.12em;
        }

        #lunar-place-container {
            position: relative;
            width: 100%;
        }

        #lunar-place-input-container {
            flex-wrap: wrap;
        }

        #lunar-place-suggestions {
            position: absolute;
            background: var(--primary-color);
            color: black;
            list-style: none;
            padding: 0;
            max-height: 200px;
            overflow-y: scroll;
            width: 100%;
            z-index: 1;
        }

        #lunar-place-suggestions li {
            padding: 0.4em;
            cursor: pointer;
            border-bottom: 2px solid #ccc;
            padding-left: 1em;
            padding-right: 1em;
        }

        #lunar-place-suggestions li:hover {
            background: var(--secondary-color);
            color: var(--primary-color);
        }

        #lunar-submit-button {
            justify-content: center !important;
        }

        #lunar-submit-button input {
            font-size: 1em;
            padding: 0.5em 1.8em;
            color: var(--btn-text-color);
            background: #f4954e;
            border: none;
            margin-top: 2em;
            cursor: pointer;
            font-family: 'Cabin Bold';
            border-radius: 40px;
            box-shadow: 1px 1px 16px #00000075;
        }

        #lunar-jump-btn button {
            font-size: 1.1em;
            padding: 0.7em 2.5em 0.7em 1.3em;
            color: #0c0c0c;
            background: #f4954e;
            border: none;
            margin-top: 2em;
            margin-bottom: 2em;
            cursor: pointer;
            font-family: 'Cabin Bold';
            border-radius: 40px;
            position: relative;
        }

        #lunar-jump-btn button:after {
            position: absolute;
            content: " ";
            background-image: url(infographics/images/arrow.svg);
            background-repeat: no-repeat;
            height: 29px;
            width: 16px;
            right: 23px;
            top: 15px;
        }

        #lunar-submit-button input:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        #lunar-submit-button input:focus {
            background: var(--secondary-color);
            opacity: 0.9;
        }

        .lunar-hidden {
            display: none !important;
        }

        .anime-hidden {
            animation: fadeOut 2s forwards;
        }

        .anime-visible {
            animation: fadeIn 1s forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                visibility: hidden;
            }

            to {
                opacity: 1;
                visibility: visible;
            }
        }

        @keyframes fadeOut {
            from {
                opacity: 1;
                visibility: visible;
            }

            to {
                opacity: 0;
                visibility: hidden;
            }
        }

        /* Result */
        #lunar-result-container {
            font-size: 1em;
        }

        #lunar-result {
            width: min(100%, var(--container-max-width));
            padding: 0em 0em 0em 0em;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2em;
            border-top: 0px solid #fff;
            border-radius: 0em;
            margin: 0em 1em 0em 1em;
            background: #0000005e;
        }


        #lunar-result .result-box {
            display: flex;
            width: 100%;
            flex-direction: row;
            max-width: 310px;
            justify-content: center;
            align-items: center;
            column-gap: 1em;
            position: relative;
            min-height: 20px;
            padding: 15px 0px;
            flex-wrap: wrap;
        }

        #lunar-result2 {
            width: min(100%, var(--container-max-width));
            padding: 0em 0em 0em 0em;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0em;
            border-top: 2px solid #fff;
            border-radius: 0em;
            margin: 0em 1em 0em 1em;
        }

        #lunar-result2 .result2-box {
            display: flex;
            width: 100%;
            flex-direction: row;
            max-width: 310px;
            justify-content: center;
            align-items: center;
            gap: 1em;
            row-gap: 0.5em;
            position: relative;
            min-height: 20px;
            padding: 0px 0px;
            flex-wrap: wrap;
        }

        #lunar-result2 .result2-box:nth-child(2) {
            border-right: 2px solid #fff;
            border-left: 2px solid #fff;
            padding: 30px 15px;
        }

        #lunar-result2 .result2-box:last-child {
            flex-direction: row-reverse;
        }

        #lunar-result2 .result2-img {
            width: 40px;
        }

        #lunar-result2 .result2-img:last-child {
            width: 60px;
        }

        #lunar-result2 .house-img {
            width: 70px;
        }

        #lunar-result3 {
            width: min(100%, var(--container-max-width));
            padding: 0em 0em 0em 0em;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0em;
            border-top: 2px solid #fff;
            border-bottom: 2px solid #fff;
            border-radius: 0em;
            margin: 0em 1em 2.5em 1em;
        }

        #lunar-result3 .result3-box {
            display: flex;
            width: 100%;
            flex-direction: row;
            max-width: 310px;
            justify-content: center;
            align-items: center;
            gap: 1em;
            row-gap: 0.5em;
            position: relative;
            min-height: 20px;
            padding: 0px 0px;
            flex-wrap: wrap;
        }

        #lunar-result3 .result3-box:nth-child(2) {
            border-right: 2px solid #fff;
            border-left: 2px solid #fff;
            padding: 30px 15px;
        }

        #lunar-result3 .result3-box:last-child {
            flex-direction: row-reverse;
        }

        #lunar-result3 .result3-img {
            width: 40px;
        }

        #lunar-result3 .house-img {
            width: 70px;
        }


        @media (max-width: 900px) {}

        #lunar-result .column-separator img {
            width: 100%;
            height: 100%;
        }

        #lunar-lunar-sign {
            font-family: 'Dancing Script';
            font-size: 3em;
            margin-bottom: 0.2em;
            color: var(--secondary-color);
        }

        #lunar-zodiac-sign-image img {
            width: min(80vw, 120px);
            min-width: 120px;
        }

        #lunar-zodiac-details {
            text-align: start;
            padding: 1em;
        }

        #lunar-zodiac-description {
            font-family: 'Cabin Regular';
            font-size: 1em;
            line-height: 1.5em;
        }

        #lunar-result-container>p {
            width: min(100%, var(--container-max-width));
            line-height: 1.5em;
            font-size: 0.9em;
        }

        #lunar-retry {
            padding: 1em 0em;
        }

        #lunar-retry p {
            cursor: pointer;
            color: var(--secondary-color, orange);
            margin: 1em auto;
            font-family: 'Cabin Bold';
        }

        #lunar-left-arrow {
            font-size: 1.5em;
            font-weight: bold;
        }

        #lunar-retry p {
            animation: slideHorizontally 0.5s ease-in-out 0ms infinite forwards alternate;
        }

        @keyframes slideHorizontally {
            0% {
                transform: translateX(0px);
            }

            100% {
                transform: translateX(-10px);
            }
        }

        #lunar-divider {
            width: min(100%, var(--divider-max-width));
            margin: 0.5em auto;
        }

        #lunar-resources {
            padding: 20px 0px 10px 0px;
        }

        #lunar-resources h4 {
            font-family: 'Cabin Bold';
            font-size: 18px;
            padding-bottom: 8px;
        }

        #lunar-resources>.lunar-resource-links {
            margin-top: 0.2em;
            margin-bottom: 0.5em;
        }

        #lunar-resources>.lunar-resource-links>a {
            color: var(--primary-color);
            text-decoration: none;
            font-size: 0.6em;
            margin: 0;
            display: block;
            margin-bottom: 5px;
        }

        .lunar-loader {
            background-color: transparent;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 9999;
        }

        .lunar-loader>figure {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background-color: transparent;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto;
            animation: spin 1s infinite linear;
        }

        .lunar-loader>figure>img {
            width: 100%;
            height: 100%;
        }


        #welcome-btn {
            font-size: 1em;
            padding: 0.5em 2.5em;
            color: var(--btn-text-color);
            background: #f4954e;
            border: none;
            margin-top: 2em;
            cursor: pointer;
            font-family: 'Cabin Bold';
            border-radius: 40px;
            box-shadow: 1px 1px 16px #00000075;
        }

        .north-south-desc {
            display: flex;
            text-align: left;
            padding: 1.5em 0px 0px 0px;
        }

        .north-south-desc .north-txt,
        .south-txt {
            width: 100%;
            max-width: 500px;
        }

        .north-south-desc .north-txt {
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }

        .north-south-desc .south-txt {
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }

        .north-south-desc .north-txt img {
            width: 40px;
            padding-top: 7px;
        }

        .north-south-desc .south-txt img {
            width: 40px;
            padding-top: 7px;
        }

        @media(max-width:1024px) {
            .north-south-desc {
                display: flex;
                gap: 1em;
                flex-direction: column;
            }

            #lunar-welcome-container .h1{
                font-size: 3em;
            }
            #lunar-input-container .h1{
                font-size: 3em;
            }
        }

        @media(max-width:750px) {
            #lunar-result2 .result2-box {
                flex-direction: column;
            }

            #lunar-result3 .result3-box {
                flex-direction: column;
            }

            #lunar-result2 .result2-box:last-child {
                flex-direction: column;
            }

            #lunar-result3 .result3-box:last-child {
                flex-direction: column;
            }
            #lunar-welcome-container .h1{
                font-size: 2.5em;
            }
            #lunar-input-container .h1{
                font-size: 2.5em;
            }
        }

        @media(max-width:500px) {
            #lunar-welcome-container .h1{
                font-size: 1.9em;
            }
            #lunar-input-container .h1{
                font-size: 1.9em;
            }
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <div id="lunar-calculator" class="lunar-container" style="background: url(infographics/images/lunar-bg-1.png)">
        <div class="lunar-loader anime-hidden">
            <figure class="lunar-loading-images"></figure>
        </div>
        <div class="lunar-header"> </div>
        <div class="lunar-main">
            <!--------------------------------- Welcome Page ---------------------------------->
            <div id="lunar-welcome-container" class="">
                <img src="infographics/images/PS-logo.png" width="260px" style="padding-bottom:5px;">
                <h2 class="h1" style="width:80%">Lunar Node Calculator</h2>
                <img src="infographics/images/underline.svg" width="87%">
                <p style="width:80%">The lunar nodes are points in the sky where the orbits of the moon and Earth
                    intersect.
                    The astrological signs within the North and South nodes sit opposite one another. These signs change
                    at
                    roughly 18-month intervals. Your North and South nodes can tell you a great deal about the purpose
                    and
                    trajectory of your life.</p>
                <img style="padding-top:1em;mix-blend-mode: screen;" src="infographics/images/lunar_picture.png"
                    width="100%">

                <button type="button" value="Next" id="welcome-btn" style="cursor:pointer;z-index:+9999;">Next</button>

            </div>
            <!--------------------------------- Welcome Page End ---------------------------------->




            <!--------------------------------- First Page End ---------------------------------->
            <div id="lunar-input-container" class="lunar-hidden">
                <img src="infographics/images/PS-logo.png" width="260px" style="padding-bottom:5px;">
                <h2 class="h1" style="width:80%">Lunar Node Calculator</h2>
                <img src="infographics/images/underline.svg" width="87%">
                <div class="north-south-desc">
                    <div class="north-txt">
                        <img src="infographics/images/north.png" alt="" width="70%">
                        <p>Your <span style="color:#f4954e;">North node</span> represents your life's purpose. This is
                            the
                            ultimate destination where you've achieved complete self-actualization. The traits and
                            qualities
                            the North node represents are those that you need to actively pursue and work on. The North
                            node
                            symbolizes your future and all that you can become when you stretch yourself beyond your
                            comfort
                            zone and strive for something more.</p>
                    </div>

                    <div class="south-txt">
                        <img src="infographics/images/south.png" alt="">
                        <p>Your <span style="color:#f4954e;">South node</span> represents where you came from. The
                            qualities
                            of this node were likely developed in a previous lifetime. As such, they're already deeply
                            ingrained — perhaps too much so. It's dangerous to fall back too heavily on your South node
                            qualities as this will inhibit growth and keep you stuck in a motionless mindset.</p>
                    </div>
                </div>
                <form id="lunar-horoscope-form" data-gtm-form-interact-id="0">
                    <fieldset id="lunar-birth_date"><label for="lunar-birth_date">Birth Date:</label>
                        <div class="lunar-inputs-container"><label hidden="" for="lunar-month">Month:</label><select
                                id="lunar-month" name="month" required="" data-gtm-form-interact-field-id="0">
                                <option hidden="" disabled="disabled" selected="selected" value="">MM</option>
                                <option value="01">January</option>
                                <option value="02">February</option>
                                <option value="03">March</option>
                                <option value="04">April</option>
                                <option value="05">May</option>
                                <option value="06">June</option>
                                <option value="07">July</option>
                                <option value="08">August</option>
                                <option value="09">September</option>
                                <option value="10">October</option>
                                <option value="11">November</option>
                                <option value="12">December</option>
                            </select><label hidden="" for="lunar-day">Day:</label><select id="lunar-day" name="day"
                                required="" data-gtm-form-interact-field-id="1">
                                <option hidden="" disabled="disabled" selected="selected" value="">DD</option>
                                <option value="01">01</option>
                                <option value="02">02</option>
                                <option value="03">03</option>
                                <option value="04">04</option>
                                <option value="05">05</option>
                                <option value="06">06</option>
                                <option value="07">07</option>
                                <option value="08">08</option>
                                <option value="09">09</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                                <option value="16">16</option>
                                <option value="17">17</option>
                                <option value="18">18</option>
                                <option value="19">19</option>
                                <option value="20">20</option>
                                <option value="21">21</option>
                                <option value="22">22</option>
                                <option value="23">23</option>
                                <option value="24">24</option>
                                <option value="25">25</option>
                                <option value="26">26</option>
                                <option value="27">27</option>
                                <option value="28">28</option>
                                <option value="29">29</option>
                                <option value="30">30</option>
                                <option value="31">31</option>
                            </select><label hidden="" for="lunar-year">Year:</label><select id="lunar-year" name="year"
                                required="" data-gtm-form-interact-field-id="2">
                                <option hidden="" disabled="disabled" selected="selected" value="">YYYY</option>
                                <option value="2023">2023</option>
                                <option value="2022">2022</option>
                                <option value="2021">2021</option>
                                <option value="2020">2020</option>
                                <option value="2019">2019</option>
                                <option value="2018">2018</option>
                                <option value="2017">2017</option>
                                <option value="2016">2016</option>
                                <option value="2015">2015</option>
                                <option value="2014">2014</option>
                                <option value="2013">2013</option>
                                <option value="2012">2012</option>
                                <option value="2011">2011</option>
                                <option value="2010">2010</option>
                                <option value="2009">2009</option>
                                <option value="2008">2008</option>
                                <option value="2007">2007</option>
                                <option value="2006">2006</option>
                                <option value="2005">2005</option>
                                <option value="2004">2004</option>
                                <option value="2003">2003</option>
                                <option value="2002">2002</option>
                                <option value="2001">2001</option>
                                <option value="2000">2000</option>
                                <option value="1999">1999</option>
                                <option value="1998">1998</option>
                                <option value="1997">1997</option>
                                <option value="1996">1996</option>
                                <option value="1995">1995</option>
                                <option value="1994">1994</option>
                                <option value="1993">1993</option>
                                <option value="1992">1992</option>
                                <option value="1991">1991</option>
                                <option value="1990">1990</option>
                                <option value="1989">1989</option>
                                <option value="1988">1988</option>
                                <option value="1987">1987</option>
                                <option value="1986">1986</option>
                                <option value="1985">1985</option>
                                <option value="1984">1984</option>
                                <option value="1983">1983</option>
                                <option value="1982">1982</option>
                                <option value="1981">1981</option>
                                <option value="1980">1980</option>
                                <option value="1979">1979</option>
                                <option value="1978">1978</option>
                                <option value="1977">1977</option>
                                <option value="1976">1976</option>
                                <option value="1975">1975</option>
                                <option value="1974">1974</option>
                                <option value="1973">1973</option>
                                <option value="1972">1972</option>
                                <option value="1971">1971</option>
                                <option value="1970">1970</option>
                                <option value="1969">1969</option>
                                <option value="1968">1968</option>
                                <option value="1967">1967</option>
                                <option value="1966">1966</option>
                                <option value="1965">1965</option>
                                <option value="1964">1964</option>
                                <option value="1963">1963</option>
                                <option value="1962">1962</option>
                                <option value="1961">1961</option>
                                <option value="1960">1960</option>
                                <option value="1959">1959</option>
                                <option value="1958">1958</option>
                                <option value="1957">1957</option>
                                <option value="1956">1956</option>
                                <option value="1955">1955</option>
                                <option value="1954">1954</option>
                                <option value="1953">1953</option>
                                <option value="1952">1952</option>
                                <option value="1951">1951</option>
                                <option value="1950">1950</option>
                                <option value="1949">1949</option>
                                <option value="1948">1948</option>
                                <option value="1947">1947</option>
                                <option value="1946">1946</option>
                                <option value="1945">1945</option>
                                <option value="1944">1944</option>
                                <option value="1943">1943</option>
                                <option value="1942">1942</option>
                                <option value="1941">1941</option>
                                <option value="1940">1940</option>
                                <option value="1939">1939</option>
                                <option value="1938">1938</option>
                                <option value="1937">1937</option>
                                <option value="1936">1936</option>
                                <option value="1935">1935</option>
                                <option value="1934">1934</option>
                                <option value="1933">1933</option>
                                <option value="1932">1932</option>
                                <option value="1931">1931</option>
                                <option value="1930">1930</option>
                                <option value="1929">1929</option>
                                <option value="1928">1928</option>
                                <option value="1927">1927</option>
                                <option value="1926">1926</option>
                                <option value="1925">1925</option>
                                <option value="1924">1924</option>
                                <option value="1923">1923</option>
                                <option value="1922">1922</option>
                                <option value="1921">1921</option>
                                <option value="1920">1920</option>
                                <option value="1919">1919</option>
                                <option value="1918">1918</option>
                                <option value="1917">1917</option>
                                <option value="1916">1916</option>
                                <option value="1915">1915</option>
                                <option value="1914">1914</option>
                                <option value="1913">1913</option>
                                <option value="1912">1912</option>
                                <option value="1911">1911</option>
                                <option value="1910">1910</option>
                                <option value="1909">1909</option>
                                <option value="1908">1908</option>
                                <option value="1907">1907</option>
                                <option value="1906">1906</option>
                                <option value="1905">1905</option>
                                <option value="1904">1904</option>
                                <option value="1903">1903</option>
                                <option value="1902">1902</option>
                                <option value="1901">1901</option>
                            </select></div>
                    </fieldset>
                    <fieldset id="lunar-birth_time"><label for="lunar-birth_time">Birth Time: </label>
                        <div class="lunar-inputs-container"><label hidden="" for="lunar-hour">hour:</label><select
                                id="lunar-hour" name="hour" required="" data-gtm-form-interact-field-id="4">
                                <option hidden="" disabled="disabled" selected="selected" value="">HH</option>
                                <option value="01">01</option>
                                <option value="02">02</option>
                                <option value="03">03</option>
                                <option value="04">04</option>
                                <option value="05">05</option>
                                <option value="06">06</option>
                                <option value="07">07</option>
                                <option value="08">08</option>
                                <option value="09">09</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="00">12</option>
                            </select><label hidden="" for="lunar-minute">minute:</label><select id="lunar-minute"
                                name="minute" required="" data-gtm-form-interact-field-id="3">
                                <option hidden="" disabled="disabled" selected="selected" value="">MM</option>
                                <option value="00">00</option>
                                <option value="01">01</option>
                                <option value="02">02</option>
                                <option value="03">03</option>
                                <option value="04">04</option>
                                <option value="05">05</option>
                                <option value="06">06</option>
                                <option value="07">07</option>
                                <option value="08">08</option>
                                <option value="09">09</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                                <option value="16">16</option>
                                <option value="17">17</option>
                                <option value="18">18</option>
                                <option value="19">19</option>
                                <option value="20">20</option>
                                <option value="21">21</option>
                                <option value="22">22</option>
                                <option value="23">23</option>
                                <option value="24">24</option>
                                <option value="25">25</option>
                                <option value="26">26</option>
                                <option value="27">27</option>
                                <option value="28">28</option>
                                <option value="29">29</option>
                                <option value="30">30</option>
                                <option value="31">31</option>
                                <option value="32">32</option>
                                <option value="33">33</option>
                                <option value="34">34</option>
                                <option value="35">35</option>
                                <option value="36">36</option>
                                <option value="37">37</option>
                                <option value="38">38</option>
                                <option value="39">39</option>
                                <option value="40">40</option>
                                <option value="41">41</option>
                                <option value="42">42</option>
                                <option value="43">43</option>
                                <option value="44">44</option>
                                <option value="45">45</option>
                                <option value="46">46</option>
                                <option value="47">47</option>
                                <option value="48">48</option>
                                <option value="49">49</option>
                                <option value="50">50</option>
                                <option value="51">51</option>
                                <option value="52">52</option>
                                <option value="53">53</option>
                                <option value="54">54</option>
                                <option value="55">55</option>
                                <option value="56">56</option>
                                <option value="57">57</option>
                                <option value="58">58</option>
                                <option value="59">59</option>
                            </select><label hidden="" for="lunar-phase">AM/PM</label><select id="lunar-phase"
                                name="phase" required="" data-gtm-form-interact-field-id="5">
                                <option selected="selected" value="am">AM</option>
                                <option value="pm">PM</option>
                            </select></div>
                    </fieldset>
                    <fieldset id="lunar-birth_place"><label for="lunar-place">Birth Place: </label>
                        <div class="lunar-inputs-container" id="lunar-place-input-container"><input name="place"
                                type="text" data-gtm-form-interact-field-id="6">
                            <div id="lunar-place-container"></div>
                        </div>
                    </fieldset>
                    <fieldset id="lunar-submit-button"><input type="submit" value="Submit" disabled=""></fieldset>
                </form>
            </div>
            <!--------------------------------- First Page End ---------------------------------->





            <!--------------------------------- Second Page ---------------------------------->
            <div id="lunar-result-container" class="lunar-hidden">
                <img src="infographics/images/PS-logo.png" width="260px" style="padding-bottom:5px;">

                <h2 class="h1" id="lunar-main-heading" style="width:80%;padding-bottom:10px;">Result</h2>


                <div id="lunar-result">
                    <div class="result-box">
                        <h3 class="result-head">Lunar Nodes</h3>
                    </div>
                    <div class="result-box">
                        <h3 class="result-head">Signs</h3>
                    </div>
                    <div class="result-box">
                        <h3 class="result-head"">Houses</h3>
                </div> 
            </div>
               <div id="lunar-result2" style="padding-bottom:0px;">
                            <div class="result2-box">
                                <img class="result2-img" src="infographics/images/north.png" alt="">
                                <p class="result2-para" id="north-node">North Node</p>
                            </div>
                            <div class="result2-box">
                                <img class="result2-img" id="north-sign-img" src="infographics/images/aries.png" alt="">
                                <p class="result2-para" id="north-sign">Aries</p>
                            </div>
                            <div class="result2-box">
                                <img class="result2-img house-img" id="north-house-img"
                                    src="infographics/images/house-1.png" alt="">
                                <p class="result2-para" id="north-house">1st House</p>
                            </div>

                    </div>
                    <div id="lunar-result3" style="padding-bottom:0px;">

                        <div class="result3-box">
                            <img class="result3-img" src="infographics/images/south.png" alt="">
                            <p class="result3-para" id="south-node">South Node</p>
                        </div>
                        <div class="result3-box">
                            <img class="result3-img" id="south-sign-img" src="infographics/images/libra.png" alt="">
                            <p class="result3-para" id="south-sign">Libra</p>
                        </div>
                        <div class="result3-box">
                            <img class="result3-img house-img" id="south-house-img"
                                src="infographics/images/house-7.png" alt="">
                            <p class="result3-para" id="south-house">7th House</p>
                        </div>

                    </div>
                    <!---------- lunar Description ----------->
                    <p id="lunar-zodiac-description">You're great at managing and balancing relationships, having spent
                        lifetimes honing your
                        interpersonal skills. However, it's now time for you to spread your wings and take on a new
                        level of independence. You likely struggle with codependency and have a tendency to put others'
                        needs before your own. You need to learn how to master self-care, listen to your intuition, and
                        trust yourself to stand up on your own. Your destiny includes an amazing solo venture that just
                        might change the world.</p>
                    <!---------- lunar Description ----------->

                    <div id="lunar-jump-btn">
                        <!-- <a href="#" id="jumplink"><button id="button-jumplink">Continue reading about lunar in the First
                        House</button></a> -->
                    </div>
                    <!-- <div id="lunar-divider"><img src="infographics/images/result-border-top.svg" alt="------" loading="lazy">
            </div> -->
                    <!-- <p>You're great at managing and balancing relationships, having spent lifetimes honing your
                        interpersonal skills. However, it's now time for you to spread your wings and take on a new
                        level of independence. You likely struggle with codependency and have a tendency to put others'
                        needs before your own. You need to learn how to master self-care, listen to your intuition, and
                        trust yourself to stand up on your own. Your destiny includes an amazing solo venture that just
                        might change the world.
                    </p> -->
                    <div id="lunar-divider"><img src="infographics/images/underline.svg" alt="------" loading="lazy">
                    </div>
                    <p>Speaking with a psychic astrologer can help you explore the deeper meanings and implications
                        associated with your North and South nodes. Understanding the placement of these key planets
                        will help you understand and optimize the road map for your life.
                    </p>
                    <div id="lunar-retry">
                        <p style="display:flex;gap:10px;justify-content: center;align-items:center;"><span
                                id="lunar-left-arrow"></span>
                            Start Agin <img src="infographics/images/arrow.png" width="11px"></p>
                    </div>



                </div>
                <!--------------------------------- Second Page End---------------------------------->




            </div>

            <!-------------------- Resources page -------------------->
            <div id="lunar-resources" class="lunar-hidden" style="background-color:#00000063;">
                <h4>
                    Resources:
                </h4>
                <div class="lunar-resource-links">
                    <a href="https://www.wellandgood.com/danger-wellness-diets/
                    " target="_blank">https://www.wellandgood.com/danger-wellness-diets/
                    </a>
                    <a href="https://cafeastrology.com/nodesofthemoon.html
                    " target="_blank">https://cafeastrology.com/nodesofthemoon.html
                    </a>
                    <a href="https://www.thecut.com/2022/12/north-node-south-node-astrology-explained.html
                    " target="_blank">https://www.thecut.com/2022/12/north-node-south-node-astrology-explained.html
                    </a>
                    <a href="https://www.mindbodygreen.com/articles/astrology-101-north-nodes-south-nodes-reveal-your-life-purpose"
                        target="_blank">https://www.mindbodygreen.com/articles/astrology-101-north-nodes-south-nodes-reveal-your-life-purpose
                    </a>
                    <a href="https://www.cosmopolitan.com/lifestyle/a30198931/north-south-node-meaning-placement-birth-chart/
                    " target="_blank">https://www.cosmopolitan.com/lifestyle/a30198931/north-south-node-meaning-placement-birth-chart/
                    </a>
                    <a href="https://stylecaster.com/south-node-meaning/
                    " target="_blank">https://stylecaster.com/south-node-meaning/
                    </a>

                </div>
            </div>
            <!-------------------- Resources page -------------------->
        </div>


        <script>
            const baseUrl = 'https://api.bloom.be/api';
            const accessToken = "427774|k8QSt9xYqdJad7nb3MDvNl3ajLCt455WJpEgUVVK";

            const lunarSignsDetail = {
                "Aries": {
                    about: "You're great at managing and balancing relationships, having spent lifetimes honing your interpersonal skills. However, it's now time for you to spread your wings and take on a new level of independence. You likely struggle with codependency and have a tendency to put others' needs before your own. You need to learn how to master self-care, listen to your intuition, and trust yourself to stand up on your own. Your destiny includes an amazing solo venture that just might change the world.",
                    north_img: "infographics/images/aries.png",
                    south_img: "infographics/images/libra.png",
                    image: "infographics/images/house-1.png",
                    house: "1st House",
                    south_sign: "Libra",
                    south_image: "infographics/images/house-7.png",
                    south_house: '7th House'
                },
                "Taurus": {
                    about: "If your past life, you were likely wealthy and privileged, sitting in the lap of luxury. Some part of you still remembers these days of ease and opulence and yearns to enjoy them again. In this lifetime, you're called to master your own wealth. You weren't born into it and must instead roll up your sleeves and get to work manifesting it yourself. The good news is that you're fully equipped to do so once you set your mind to the task.",
                    north_img: "infographics/images/taurus.png",
                    south_img: "infographics/images/scorpio.png",
                    image: "infographics/images/house-2.png",
                    house: "2nd House",
                    south_sign: "Scorpio",
                    south_image: "infographics/images/house-8.png",
                    south_house: '8th House'
                },
                "Gemini": {
                    about: "Your Sagittarian South node took you on great adventures in previous lives. You've already shored up actual lifetimes of travel experiences and you still have an energetic air about you with a certain tinge of nervousness that can make you seem very high-key. In your North node, Gemini calls you to work on your communication skills, focusing more on people than places. You have a lot to learn from hunkering down in your own community and nurturing the relationships there.",
                    north_img: "infographics/images/gemini.png",
                    south_img: "infographics/images/sagittarius.png",
                    image: "infographics/images/house-3.png",
                    house: "3rd House",
                    south_sign: "Sagittarius",
                    south_image: "infographics/images/house-9.png",
                    south_house: '9th House'
                },
                "Cancer": {
                    about: "Capricorn's strong work ethic drove you to focus on your career and keep your nose to the grindstone in the past. This ethos still runs strong in you, but you're called to soften into your family, home, and a greater dependence on others in this lifetime. Resist the urge to throw yourself into your work for the sake of security, and instead allow yourself to accept support from your partner so you can enjoy nesting, nurturing, and caring for your clan.",
                    north_img: "infographics/images/cancer.png",
                    south_img: "infographics/images/capricorn.png",
                    image: "infographics/images/house-4.png",
                    house: "4th House",
                    south_sign: "Capricorn",
                    south_image: "infographics/images/house-10.png",
                    south_house: '10th House'
                },
                "Leo": {
                    about: "You're accustomed to being a team player and feel most comfortable when you're safely ensconced in a group. However, you won't achieve your full potential until you step up and take the reins. Though you may shy away from the stage, you're destined for that spotlight. Stretch the boundaries of your comfort zone and you might be amazed at the creative and artistic accomplishments you will see.",
                    north_img: "infographics/images/leo.png",
                    south_img: "infographics/images/aquarius.png",
                    image: "infographics/images/house-5.png",
                    house: "5th House",
                    south_sign: "Aquarius",
                    south_image: "infographics/images/house-11.png",
                    south_house: '11th House'
                },
                "Virgo": {
                    about: "The dreamy and idealistic nature of Pisces is deeply rooted in your psyche, making it difficult for you to focus and stay grounded. Virgo in your North node calls you to come back to earth. You need to focus on personal healing, daily routines, and dedicated systems to help you achieve the orderliness that you need in this lifetime. ",
                    north_img: "infographics/images/virgo.png",
                    south_img: "infographics/images/pisces.png",
                    image: "infographics/images/house-6.png",
                    house: "6th House",
                    south_sign: "Pisces",
                    south_image: "infographics/images/house-12.png",
                    south_house: '12th House'
                },
                "Libra": {
                    about: "You have strong leadership abilities rooted in lifetimes of taking the helm. Though you're wonderfully independent, you'll learn more in this lifetime by developing strong partnerships and working with others. It may take some effort to master the art of diplomatic communication, but once you do, you'll find a world of new possibilities open to you and your team.",
                    north_img: "infographics/images/libra.png",
                    south_img: "infographics/images/aries.png",
                    image: "infographics/images/house-7.png",
                    house: "7th House",
                    south_sign: "Aries",
                    south_image: "infographics/images/house-1.png",
                    south_house: '1st House'
                },
                "Scorpio": {
                    about: "You've spent lifetimes steeped in the material world and tend to cling tightly to material possessions. Fortunately, you'll find wealth comes easily to you in this lifetime. However, you're now called to let go of these early possessions and focus instead on higher things like your spiritual journey. Let go of your need to control things and maintain stability and instead let the universe sweep you away on a journey of self-discovery.",
                    north_img: "infographics/images/scorpio.png",
                    south_img: "infographics/images/taurus.png",
                    image: "infographics/images/house-8.png",
                    house: "8th House",
                    south_sign: "Taurus",
                    south_image: "infographics/images/house-2.png",
                    south_house: '2nd House'
                },
                "Sagittarius": {
                    about: "Your deeply rooted Gemini traits make you wildly social if somewhat unfocused. You may prefer to stay close to your community, but your true calling requires you to step away from your homey comfort zone and experience the wider world. Sagittarius calls you to pursue travel, education, and a lifetime of experiencing and learning new things. You'll find indecision is your most challenging trait, but once you commit to your path, you'll be unstoppable.",
                    north_img: "infographics/images/sagittarius.png",
                    south_img: "infographics/images/gemini.png",
                    image: "infographics/images/house-9.png",
                    house: "9th House",
                    south_sign: "Gemini",
                    south_image: "infographics/images/house-3.png",
                    south_house: '3rd House'
                },
                "Capricorn": {
                    about: "You have a deeply emotional side rooted in your South node in Cancer. You may attempt to blame your sensitivity and fears for your reluctance to branch out and pursue new things. However, Capricorn in your North node is pulling you onward to a life of independence, hard work, and ample recognition. Once you get going, you'll pick up great momentum that will rocket you forward toward greater things.",
                    north_img: "infographics/images/capricorn.png",
                    south_img: "infographics/images/cancer.png",
                    image: "infographics/images/house-10.png",
                    house: "10th House",
                    south_sign: "Cancer",
                    south_image: "infographics/images/house-4.png",
                    south_house: '4th House'
                },
                "Aquarius": {
                    about: "You're naturally inclined to look inward and act in a very independent and individualistic manner. However, you're being called to overcome these Leo tendencies and look at the bigger picture. Your North node in Aquarius calls you to pursue humanitarian endeavors. You'll find that you're uniquely poised to make a difference in the world when you channel your charisma and dramatic flair toward meaningful causes.",
                    north_img: "infographics/images/aquarius.png",
                    south_img: "infographics/images/leo.png",
                    image: "infographics/images/house-11.png",
                    house: "11th House",
                    south_sign: "Leo",
                    south_image: "infographics/images/house-5.png",
                    south_house: '5th House'
                },
                "Pisces": {
                    about: "With your South node firmly rooted in Virgo, you tend toward practical pursuits. However, Pisces in your North node beckons you to release your analytical nature and start developing your creativity and imagination. You'll need to let go of some of the rules and order that you naturally cling to so you can enjoy how the winds of fate will carry you forward in this life.",
                    north_img: "infographics/images/pisces.png",
                    south_img: "infographics/images/virgo.png",
                    image: "infographics/images/house-12.png",
                    house: "12th House",
                    south_sign: "Virgo",
                    south_image: "infographics/images/house-6.png",
                    south_house: '6th House'
                }
            }


            /************** Welcome page ************/
            const welcome_btn = document.querySelector("#welcome-btn");
            const welcome_container = document.querySelector('#lunar-welcome-container');
            const second_stage = document.querySelector('#lunar-input-container');
            welcome_btn.addEventListener('click', () => {
                welcome_container.classList.toggle('lunar-hidden');
                second_stage.classList.toggle('lunar-hidden');
            });
            /************** Welcome page ************/

            const inputs = document.querySelector('#lunar-input-container');
            const results = document.querySelector('#lunar-result-container');
            const resource = document.querySelector('#lunar-resources');
            const getPlaces = async (place) => {
                const config = {
                    headers: {
                        "Authorization": "Bearer " + accessToken,
                        "Content-Type": "application/json"
                    }
                }
                const data = {
                    "name": place
                }
                try {
                    const res = await axios.post(`${baseUrl}/places`, data, config);

                    console.log("Places =" + JSON.stringify(res.data));                        // fetch All Country from database

                    return res.data;

                } catch (err) {
                    console.log(err);
                }
            }



            // give suggestion of places, based on the input
            const placeInput = document.querySelector('input[name="place"]');
            const placeSuggestionBox = document.querySelector('#lunar-place-container');
            let place_id = null;

            placeInput.addEventListener('keyup', async () => {
                const placeValue = placeInput.value;
                let places;
                if (placeValue.length > 1) {
                    try {
                        places = await getPlaces(placeValue);
                    } catch (err) {
                        console.log(err);
                        return alert('API is not responsing right now. Please try again later.');
                    }
                    placeSuggestionBox.innerHTML = '';

                    if (places.data.length > 0) {
                        const placeContainer = document.createElement('ul');                   // Creating Birthplace <ul> - Dropdown
                        placeContainer.id = 'lunar-place-suggestions';

                        places.data.forEach(place => {
                            const placeName = place.name;                                      // Fetch Birthplace <li> - Dropdown
                            const country_code = place.admin1_code;
                            const timezone = place.timezone;
                            const placeId = place.id;

                            const placeOption = document.createElement('li');
                            placeOption.id = placeId;
                            placeOption.innerHTML = `${placeName}, ${country_code}, ${timezone}`;
                            placeContainer.appendChild(placeOption);
                        })
                        placeSuggestionBox.appendChild(placeContainer);
                    }
                } else {
                    placeSuggestionBox.innerHTML = '';
                }
            });


            //     Final Trigger after Birthplace Selection
            placeSuggestionBox.addEventListener('click', async (e) => {
                place_id = e.target.id;
                const placeName = e.target.innerText.split(',')[0];
                const country_code = e.target.innerText.split(',')[1];
                const timezone = e.target.innerText.split(',')[2];

                placeInput.value = `${placeName},${country_code}`;                      // Finally User Selected in <li> dropdown 
                placeSuggestionBox.innerHTML = '';
            })


            const getNatalHoroscope = async (name, date, time, place_id) => {
                // name: String
                // date: String (YYYY-MM-DD)
                // time: String (HH:MM)
                // place_id: Number

                const config = {
                    headers: {
                        "Authorization": "Bearer " + accessToken,
                        "Content-Type": "application/json"
                    }
                }
                const data = {
                    "name": name,
                    "date": date,
                    "time": time,
                    "place_id": place_id,
                    "lang": "en"
                }
                const res = await axios.post(`${baseUrl}/natal`, data, config);

                console.log("After Submit Result == " + JSON.stringify(res.data));             // Fetch lunar Details as an Json Format.

                return res.data
            }


            // Get lunarSign From Database
            const getlunarSign = async (name, date, time, place_id) => {
                // name: String
                // date: String (YYYY-MM-DD)
                // time: String (HH:MM)
                // place_id: Number

                const horoscope = await getNatalHoroscope(name, date, time, place_id);    //fetch lunar Details from Database
                //const lunarSign = horoscope.ascendant.signName;
                /****** Find  House details ******/

                const housedetails = horoscope.planets;
                for (let h = 0; h < housedetails.length; h++) {
                    if (housedetails[h].planetName == "North Node") {
                        // var finalHoseNo = housedetails[h].signName;
                        var finalSign = housedetails[h].signName;
                    }

                }

                console.log("North Sign == " + finalSign);
                return finalSign;
                /****** Find House details ******/


                // console.log("lunarSign == " + lunarSign);
                // return lunarSign;
            }

            const addResult = async (data) => {
                const lunarSign = await getlunarSign(data.name, data.date, data.time, data.place_id);     // Get lunarSign

                // Signs
                const northSign = document.querySelector('#north-sign');
                northSign.innerHTML = lunarSign;

                const northSignImg = document.querySelector('#north-sign-img');
                northSignImg.src = lunarSignsDetail[lunarSign].north_img;


                const southSign = document.querySelector('#south-sign');
                southSign.innerHTML = lunarSignsDetail[lunarSign].south_sign;

                const southSignImg = document.querySelector('#south-sign-img');
                southSignImg.src = lunarSignsDetail[lunarSign].south_img;


                // Houses 
                const northHouse = document.querySelector('#north-house');
                northHouse.innerHTML = lunarSignsDetail[lunarSign].house;;

                const northHouseImg = document.querySelector('#north-house-img');
                northHouseImg.src = lunarSignsDetail[lunarSign].image;


                const southHouse = document.querySelector('#south-house');
                southHouse.innerHTML = lunarSignsDetail[lunarSign].south_house;;

                const southHouseImg = document.querySelector('#south-house-img');
                southHouseImg.src = lunarSignsDetail[lunarSign].south_image;



                // Description
                const signDetails = document.querySelector('#lunar-zodiac-description');               // Get Description 
                signDetails.innerHTML = lunarSignsDetail[lunarSign].about;

                // const fetch_talents = document.querySelector('#talents');                         // Get talents 
                // fetch_talents.innerHTML = lunarSignsDetail[lunarSign].talents;

                // const fetch_strengths = document.querySelector('#strengths');                         // Get strengths 
                // fetch_strengths.innerHTML = lunarSignsDetail[lunarSign].strengths;

                // const fetch_weakness = document.querySelector('#weakness');                         // Get weakness 
                // fetch_weakness.innerHTML = lunarSignsDetail[lunarSign].weaknesses;


                // const fetch_jumplink = document.querySelector('#jumplink');                         // Get Jumplink 
                // fetch_jumplink.href = lunarSignsDetail[lunarSign].jumplink;

                // const button_jumplink = document.querySelector('#button-jumplink');                         // Get Button Jumplink 
                // button_jumplink.innerHTML = `Continue reading about lunar in the ${house}`;


                // const signImage = document.querySelector('#lunar-zodiac-sign-image');                 // Get Image
                // const image = document.createElement('img');
                // image.src = lunarSignsDetail[lunarSign].image;
                // signImage.appendChild(image);

                // Change Second page BG image
                document.getElementById('lunar-calculator').style.backgroundImage = "url('infographics/images/lunar-bg-1.png')";
                return Promise.resolve();
            }

            function addYears(startingYear, endingYear = null) {
                if (endingYear === null) {
                    d = new Date();
                    endingYear = d.getFullYear();
                }
                const years = [];
                for (let i = endingYear; i > startingYear; i--) {
                    years.push(i);
                }

                const yearSelect = document.querySelector('#lunar-year');
                years.forEach(year => {
                    const option = document.createElement('option');
                    option.value = year;
                    option.innerHTML = year;
                    yearSelect.appendChild(option);
                })
            }

            function convertTime12to24(hour, minute, period) {
                let time = null;
                if (period === 'am') {
                    time = `${hour}:${minute}`;
                } else {
                    time = `${parseInt(hour) + 12}:${minute}`;
                }
                return time;
            }







            ///----------------- Reset Button ------------------
            const resetForm = () => {
                const form = document.querySelector('#lunar-horoscope-form');
                form.reset();

                document.getElementById('lunar-calculator').style.backgroundImage = "url('infographics/images/lunar-bg-1.png')";

                const signDetails = document.querySelector('#lunar-zodiac-description');
                signDetails.innerHTML = '';
                // const signImage = document.querySelector('#lunar-zodiac-sign-image');
                // signImage.innerHTML = '';
                const button = form.querySelector('input[type="submit"]');
                button.disabled = true;
                place_id = null;
            }

            const loader = document.querySelector('.lunar-loader');
            const figureBox = loader.querySelector('figure');
            let stopLoading = false;


            // Change images Dynamically 
            const addImg = (src) => {
                const img = document.createElement('img');
                img.src = src;
                figureBox.innerHTML = img.outerHTML;
            }

            // Push All images to Srcs Array
            let srcs = [];
            for (let zodiac in lunarSignsDetail) {
                srcs.push(lunarSignsDetail[zodiac].image);
            }

            function sleep(seconds) {
                return new Promise(resolve => setTimeout(resolve, seconds * 1000));
            }

            const changeImages = async (seconds) => {
                loader.classList.remove('anime-hidden');
                for (let i = 0; i < srcs.length; i++) {
                    if (stopLoading) {
                        figureBox.innerHTML = '';
                        loader.classList.add('anime-hidden');
                        return;
                    }
                    addImg(srcs[i]);
                    await sleep(seconds);
                }
                changeImages();
            }

            const toggle = () => {

                const welcome = document.querySelector('#lunar-welcome-container');
                const inputs = document.querySelector('#lunar-input-container');
                const results = document.querySelector('#lunar-result-container');

                // inputs.classList.toggle('lunar-hidden');
                results.classList.toggle('lunar-hidden');
                welcome.classList.toggle('lunar-hidden');
                resource.classList.toggle('lunar-hidden');
            }

            // Start images loading randomally
            const startLoading = () => {
                changeImages(0.2);
            }

            // Stop images loading randomally
            const stopLoad = async () => {
                stopLoading = true;
                await sleep(0.2);
                stopLoading = false;
            }

            // get form details
            const form = document.querySelector('#lunar-horoscope-form');

            setInterval(() => {
                const formData = new FormData(form);
                const name = formData.get('name') || 'Zephyrus';
                const day = formData.get('day');
                const month = formData.get('month');
                const year = formData.get('year');
                const hour = formData.get('hour');
                const minute = formData.get('minute');
                const phase = formData.get('phase');

                const button = form.querySelector('input[type="submit"]');

                if (day && month && year && hour && minute && phase && place_id) {
                    button.disabled = false;
                }

            }, 500);


            // Button Trigger
            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                //alert('button trigger');
                const formData = new FormData(form);
                const name = formData.get('name') || 'Zephyrus';
                const day = formData.get('day');
                const month = formData.get('month');
                const year = formData.get('year');
                const hour = formData.get('hour');
                const minute = formData.get('minute');
                const phase = formData.get('phase');


                if (place_id === null) {
                    const place = formData.get('place').split(',')[0];

                    const places = await getPlaces(place);
                    place_id = places.data[0].id;

                }

                const data = {
                    "name": name,
                    "date": `${year}-${month}-${day}`,
                    "time": convertTime12to24(hour, minute, phase),
                    "place_id": place_id
                }
                if (checkStatus()) {
                    inputs.classList.toggle('lunar-hidden');
                    startLoading();
                    await addResult(data);
                    await stopLoad();
                    results.classList.toggle('lunar-hidden');
                    resource.classList.toggle('lunar-hidden');
                } else {
                    alert('Please check your internet connection');
                }
            });

            const retryButton = document.querySelector('#lunar-retry>p');
            retryButton.addEventListener('click', () => {
                resetForm();
                toggle();
            })

            addYears(1900);
            resetForm();

            // Check if user is connected to internet

            const request_url = 'https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js';

            async function checkStatus() {
                let res = null;
                let status = null;
                try {
                    res = await fetch(request_url);
                    status = res.status;
                } catch (err) {
                    console.log(err);
                }

                if (status >= 200 && status < 300) {
                    await sleep(1)
                    return true;
                } else {
                    alert('Check your internet connection');
                    await sleep(10);
                }
                checkStatus();
            }

            checkStatus();


        </script>


</body>

</html>